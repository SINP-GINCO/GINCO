{% extends "::base.html.twig" %}

{% block body %}

<h1>{% trans %}Providers{% endtrans %}</h1>

{% if providers|length > 0 %}
	<table class="table table-hover">
		<thead>
		<tr>
			<th>{% trans %}id{% endtrans %}</th>
			<th>{% trans %}Provider Id{% endtrans %}</th>
			<th>{% trans %}Definition{% endtrans %}</th>
			<th>{% trans %}Actions{% endtrans %}</th>
		</tr>
		</thead>

		<tbody>
		{% for provider in providers %}
			<tr>
				<td>{{ provider.id }}</td>
				<td>{{ provider.label }}</td>
				<td>{{ provider.definition }}</td>
				<td>
                    <a role="button" class="btn btn-sm btn-primary" title="{{ 'View related users and content'|trans }}" href="{{ path('usermanagement_showProviderContent', {'id' : provider.id}) }}">
                        <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                    </a>
                    <a role="button" class="btn btn-sm btn-success" title="{{ 'Edit'|trans }}" href="{{ path('usermanagement_editProvider', {'id' : provider.id}) }}">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </a>

				{% if isDeletableProvider[provider.id] %}
						<a title="{% trans %}Delete{% endtrans %}" href="{{ path('usermanagement_deleteProvider', {'id' : provider.id}) }}" onClick="return confirm('{% trans %}Are you sure?{% endtrans %}');">&nbsp;</a>
				{% else %}
						<a title="{% trans %}Delete{% endtrans %}" href="#" onClick="alert('{% trans %}Impossible to delete this provider.{% endtrans %}');">&nbsp;</a>
				{% endif %}
			</tr>
		{% endfor %}
	</table>
{% else %}
	<p>{% trans %}Pas encore d'organismes.{% endtrans %}</p>
{% endif %}


<p>
	<a href="{{ path('usermanagement_editProvider') }}"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> {% trans %}Create Provider{% endtrans %}</a>
<p/>

{% endblock %}
